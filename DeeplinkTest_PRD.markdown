# DeepLink Test PRD

## 1. 개요
**DeepLink Test**는 모바일 앱 딥링크 테스트를 위한 웹 기반 도구로, 개발자와 앱 마케터가 URI 스킴과 유니버설/앱 링크를 쉽게 테스트할 수 있도록 설계되었습니다. 간단한 UI와 디버깅 정보를 제공해 사용자 경험과 효율성을 극대화합니다.

## 2. 목표
- URI 스킴(예: `myapp://path`)과 유니버설/앱 링크(예: `https://example.com/app`)를 모두 테스트 가능.
- 사용자 입력 링크를 자동으로 판별하고 호출.
- 디버깅에 유용한 정보(유저 에이전트, 링크 유형, 호출 결과 등) 제공.
- 간단하고 직관적인 UI로 최소 학습 곡선 제공.

## 3. 기능 요구사항

### 3.1 핵심 기능
1. **링크 입력 텍스트박스**
   - 사용자가 딥링크를 입력할 수 있는 텍스트박스 제공.
   - 실시간 유효성 검사(정규표현식으로 URI 스킴과 유니버설 링크 구분).
   - 예: `/^[^:]+:\/\//.test(link) && !link.startsWith('http')` → URI 스킴, `link.startsWith('https://')` → 유니버설 링크.

2. **링크 유형 자동 판별**
   - 입력된 링크를 URI 스킴 또는 유니버설/앱 링크로 자동 분류.
   - 잘못된 형식일 경우 에러 메시지 표시(예: "잘못된 링크 형식입니다") 및 버튼 비활성화.

3. **테스트 버튼**
   - 입력된 링크를 호출하는 버튼 생성(`window.location.href = link;`).
   - 버튼은 링크가 유효할 때만 활성화.

4. **링크 호출 및 결과 추적**
   - 클릭 후 2초 타이머로 호출 결과 추적(예: 앱 열림, 리디렉션, 실패).
   - 사용자에게 피드백 요청(예: "앱이 열렸나요?") 후 결과 저장.

### 3.2 디버깅 정보
- **유저 에이전트**: `navigator.userAgent`로 OS(iOS, Android)와 브라우저(Safari, Chrome) 자동 탐지.
- **링크 유형**: URI 스킴 또는 유니버설/앱 링크 여부.
- **네트워크 상태**: `navigator.onLine`으로 온라인/오프라인 확인.
- **결과 상태**: 성공/리디렉션/실패 여부.
- **타임스탬프**: `new Date().toISOString()`로 테스트 시점 기록.
- **저장**: `{ link, os, browser, linkType, networkStatus, result, timestamp }`를 localStorage에 저장, 세션별 최대 10개 제한.

### 3.3 추가 기능
1. **과거 링크 리스트**
   - localStorage에 저장된 과거 테스트 링크를 리스트로 표시.
   - 저장 동의 팝업 추가(프라이버시 고려).
   - 클릭 시 텍스트박스에 자동 입력.

2. **예제 링크 제공**
   - 미리 정의된 예제 링크(예: `twitter://`, `https://example.com/app`) 버튼 제공.
   - 클릭 시 텍스트박스에 입력 및 판별.

3. **OS 자동 탐지**
   - 유저 에이전트로 iOS/Android 자동 감지(예: `/iPhone|iPad|iPod/` → iOS).
   - "알 수 없음"일 경우 "모바일 기기에서 테스트하세요" 안내.

4. **로그 표시**
   - 테스트 기록을 테이블 형태로 표시(예: 링크, OS, 결과, 타임스탬프).
   - CSV 내보내기 기능(Blob 사용).

### 4. 비기능적 요구사항
- **기술 스택**: HTML, JavaScript, CSS (순수 JS로 구현, 프레임워크 불필요).
- **브라우저 호환성**: 최신 Chrome, Safari, Firefox 지원.
- **프라이버시**: 민감한 링크 저장 시 사용자 동의 필요.
- **성능**: 페이지 로드 시간 1초 이내, 로그 10개 이하로 제한.
- **SEO**: `<title>`, `<meta>`에 "deep link tester", "universal link test" 키워드 포함.

## 5. 제약사항
- 브라우저에서 앱 설치 여부 직접 확인 불가 → 간접 추정(리디렉션 감지).
- 데스크톱 브라우저에서는 딥링크 호출 제한 → 모바일 테스트 안내.
- 서버 응답(예: `apple-app-site-association`) 확인은 CORS 제한으로 불가.

## 6. 성공 지표
- 사용자 80% 이상이 링크 입력 후 10초 내 테스트 완료.
- 로그 저장 및 조회 기능 사용률 50% 이상.
- 검색엔진에서 "deep link tester" 키워드로 상위 10위 내 노출.

## 7. 타임라인
- 프로토타입: 1주 (기본 UI, 링크 호출, 로그 저장).
- 디버깅 기능 추가: 1주.
- 테스트 및 최적화: 1주.
- 배포: 3주 후.